<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:title" content="iOS StandBy By EM">
  <meta property="og:description" content=">iOS StandBy By EM">
  <meta property="og:url" content="http://https://elvismao.com/code/StandBy" />
  <title>iOS StandBy By EM</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9R5PZG2VQG"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-9R5PZG2VQG');
  </script>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NHBZ3RD" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <div class="color-picker">
    <div class="color-option" style="background-color: #7aaaf1" onclick="changeFontColor('#7aaaf1')"></div>
    <div class="color-option" style="background-color: #8683ff" onclick="changeFontColor('#8683ff')"></div>
    <div class="color-option" style="background-color: #e683bc" onclick="changeFontColor('#e683bc')"></div>
    <div class="color-option" style="background-color: #ff788c" onclick="changeFontColor('#ff788c')"></div>
    <div class="color-option" style="background-color: #ff8d7b" onclick="changeFontColor('#ff8d7b')"></div>
    <div class="color-option" style="background-color: #f8d175" onclick="changeFontColor('#f8d175')"></div>
    <div class="color-option" style="background-color: #9ac78f" onclick="changeFontColor('#9ac78f')"></div>
    <div class="color-option" style="background-color: #7dc4ca" onclick="changeFontColor('#7dc4ca')"></div>
    <div class="color-option" style="background-color: #FFFFFF" onclick="changeFontColor('#FFFFFF')"></div>
    <div class="color-option" style="background-color: #565c6a" onclick="changeFontColor('#565c6a')"></div>
    <div class="color-option" style="background-color: #6b5762" onclick="changeFontColor('#6b5762')"></div>
    <div class="color-option" id="color"> <input type="color"
        onchange="document.getElementById('color').style.backgroundColor=this.value;changeFontColor(this.value)"></div>
  </div>
  <div class="progress-bar">
    <div class="progress now"></div>
    <div class="progress"></div>
    <div class="progress"></div>
    <div class="progress"></div>
    <div class="progress"></div>
  </div>
  <main>
    <section id="header" class="column">
      <div class="uiFont">
        <h1>StandBy</h1>
        <h2>Web Version by EM</h2>
        <h3 id="status">Everything should be okay</h3>
        <h3>Long press to change color</h3>
      </div>
      <nav><button>中</button><button>?</button></nav>
    </section>
    <section id="time" class="uiFont">
      <div class="time"></div>
      <div class="timeBg"></div>
    </section>
    <section id="callender">
      <div class="clock">
        <div class="hour-hand"></div>
        <div class="minute-hand"></div>
        <div class="second-hand"></div>
        <div class="clockCenter"></div>
        <div class="clockCenterCenter"></div>
        <div class="digit" style="--deg: 0;" data-digit="12"></div>
        <div class="digit" style="--deg: 30;" data-digit="1"></div>
        <div class="digit" style="--deg: 60;" data-digit="2"></div>
        <div class="digit" style="--deg: 90;" data-digit="3"></div>
        <div class="digit" style="--deg: 120;" data-digit="4"></div>
        <div class="digit" style="--deg: 150;" data-digit="5"></div>
        <div class="digit" style="--deg: 180;" data-digit="6"></div>
        <div class="digit" style="--deg: 210;" data-digit="7"></div>
        <div class="digit" style="--deg: 240;" data-digit="8"></div>
        <div class="digit" style="--deg: 270;" data-digit="9"></div>
        <div class="digit" style="--deg: 300;" data-digit="10"></div>
        <div class="digit" style="--deg: 330;" data-digit="11"></div>
      </div>

      <div id="callenderBox">
        <div id="callenderMonth"></div>
      </div>
    </section>
    <section id="image">
      <div class="image-time uiFont"></div>
      <div class="box uiFont">
        <div class="author"></div>
        <div class="caption"></div>
      </div>
    </section>
    <section id="music">
      <div><img src="https://i1.sndcdn.com/artworks-joPz3SL4l6GWVX00-dl2csw-t500x500.jpg" alt="">
        <div><h3>Home</h3>
        <h4>Pleeg</h4>
      <div class="controlPlay uiFont">⏪︎&nbsp;&nbsp;▶&nbsp;&nbsp;⏩︎</div>
    <div class="prograss"></div>
    <div class="timePrograss"><div>0:00</div>
    <div>-2:49</div></div>
    </div>
      </div>
    </section>
  </main>
  <script>  
    const currentDate = new Date();
    const currentMonth = currentDate.getMonth();
    const currentYear = currentDate.getFullYear();
    const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
    const weekdays = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];
    const table = document.createElement('table');
    const thead = document.createElement('thead');
    const headerRow = document.createElement('tr');
    for (let i = 0; i < 7; i++) {
      const th = document.createElement('th');
      th.textContent = weekdays[i];
      if (weekdays[i] == "S") th.classList.add('weekend');
      headerRow.appendChild(th);
    }
    thead.appendChild(headerRow);
    table.appendChild(thead);
    const tbody = document.createElement('tbody');
    const startingDay = new Date(currentYear, currentMonth, 1).getDay();
    const numRows = Math.ceil((daysInMonth + startingDay) / 7);
    let dayCount = 1;
    for (let i = 0; i < numRows; i++) {
      const row = document.createElement('tr');
      for (let j = 0; j < 7; j++) {
        const cell = document.createElement('td');
        if (i === 0 && j < startingDay) {
          cell.textContent = '';
        } else if (dayCount > daysInMonth) {
          cell.textContent = '';
        } else {
          cell.textContent = dayCount;
          if (dayCount == currentDate.getDate())
            cell.style.backgroundColor = "#FF0000";
          dayCount++;
        }
        row.appendChild(cell);
      }
      tbody.appendChild(row);
    }
    table.appendChild(tbody);
    document.getElementById("callenderBox").appendChild(table);
    const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
    const callenderMonthElement = document.getElementById('callenderMonth');
    callenderMonthElement.textContent = monthNames[currentMonth];

    //clock
    function moveClockHands() {
      const now = new Date();
      const hours = now.getHours();
      const minutes = now.getMinutes();
      const seconds = now.getSeconds();
      const hourHand = document.querySelector('.hour-hand');
      const minuteHand = document.querySelector('.minute-hand');
      const secondHand = document.querySelector('.second-hand');
      const hourRotation = (hours * 30) + (minutes * 0.5) + 180;
      const minuteRotation = ((minutes + seconds / 60) * 6) + 180;
      const secondRotation = (seconds * 6) + 180 + (hours * 60 + minutes) * 360;

      hourHand.style.transform = `rotate(${hourRotation}deg) translateY(.5em)`;
      minuteHand.style.transform = `rotate(${minuteRotation}deg) translateY(.5em)`;
      secondHand.style.transform = `rotate(${secondRotation}deg) translateY(-.5em)`;

      //digital clock
      var digitalTime = ('0' + now.getHours()).slice(-2) + ":" + ('0' + now.getMinutes()).slice(-2) +":" + ('0' + now.getSeconds()).slice(-2);

      document.querySelector('.time').innerHTML = digitalTime;
      document.querySelector('.image-time').innerHTML = digitalTime;
      setTimeout(moveClockHands, 1000);
    }

    moveClockHands();
    //ios device
    // Function to check if the user agent string indicates an iOS device
    // Example usage
    if (!/iphone|ipad|ipod|macintosh|apple watch/.test(window.navigator.userAgent.toLowerCase()))
      document.getElementById("status").innerHTML = "This is not an iOS Device, some function may not work properly";
    document.getElementById("status").style.color = "red";

    //settings
    let pressTimer;

    function startPressTimer() {
      var elem = document.documentElement; // Assuming you want to make the entire document full screen
      if (!document.fullscreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement) {
        if (elem.requestFullscreen) {
          elem.requestFullscreen();
        } else if (elem.webkitRequestFullscreen) {
          elem.webkitRequestFullscreen();
        } else if (elem.msRequestFullscreen) {
          elem.msRequestFullscreen();
        }
      }
      pressTimer = setTimeout(setShow, 300); // Adjust the duration as needed
      console.log("a");
    }
    const setShow = () => {

      document.body.classList.toggle('setting')
    }

    function cancelPressTimer() {
      clearTimeout(pressTimer);
    }

    document.addEventListener('touchstart', startPressTimer);
    document.addEventListener('touchend', cancelPressTimer);
    document.addEventListener('mousedown', startPressTimer);
    document.addEventListener('mouseup', cancelPressTimer);

    //color{
    function changeFontColor(color) {
      document.documentElement.style.setProperty("--main-color", color);
      if (color === '#FFFFFF') {
        document.getElementById('time').style.background = 'black';
        document.querySelector('.timeBg').style.background = "black";
        document.querySelector('.time').style.color = "white";
      } else {
        document.getElementById('time').style.background = ' var(--main-color)';
        document.querySelector('.timeBg').style.background = "linear-gradient(-45deg, transparent 20%, var(--main-color))";
        document.querySelector('.time').style.color = "#ffffff33";
      }
    }

    //scroll y
    //scroll event
    var man = document.querySelector("main"), last;
    man.addEventListener('scroll', () => {
      var a = Math.round(man.scrollTop / window.innerHeight);
      if (a == last) return;
      var elements = document.querySelectorAll(".progress");
      elements.forEach(function (element) {
        element.classList.remove("now");
      });
      elements[a].classList.add("now");
      last = a;
    })

    //image
    const imageElement = document.getElementById('image');
    const authorElement = document.querySelector('.author');
    const captionElement = document.querySelector('.caption');
    fetch(`https://api.unsplash.com/photos/random?client_id=fJ9Q7JkDZO6JvR6XU4kq7vATcQ9mdO0BGwcJwgYS7M0`)
      .then(response => response.json())
      .then(data => {
        imageElement.style.backgroundImage = `url(${data.urls.full})`;
        // Assuming data is an object containing the description and alt_description properties
        if (data.description !== null) {
          authorElement.textContent = data.description.split("More")[0].split("more")[0].split("IG")[0].split("Follow on")[0].split("Photo by")[0].split("by")[0].split("Instagram")[0];
        } else {
          authorElement.textContent = data.alt_description;
        }
        captionElement.innerHTML = `<a href="${data.links.html}" target="_blank">${data.user.name}, ${data.user.location}<span>❯</span></a>`;
      })
      .catch(error => {
        console.log('Error:', error);
      });

  </script>
</body>
