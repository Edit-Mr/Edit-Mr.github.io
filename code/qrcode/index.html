<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9R5PZG2VQG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-9R5PZG2VQG');
    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QRCode Generator</title>
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <style>
        #qrcode {
            width: 160px;
            height: 160px;
            margin-top: 15px;
        }
    </style>
</head>

<body>
    <h1>QRCode 生成器</h1>
    <input id="text" type="text" value="https://hogangnono.com" style="width:80%" /><br />
    width: <input type="number" id="width" value="1000" min="100" />
    height: <input type="number" id="height" value="1000" min="100" />
    亮色: <input type="color" id="colorLight" value="#ffffff" />
    暗色: <input type="color" id="colorDark" value="#000000" />
    容錯率: <select id="correctLevel">
        <option value="L">L - 最大 7% 的錯誤能夠被更正</option>
        <option value="M">M - 最大 15% 的錯誤能夠被更正</option>
        <option value="Q">Q - 最大 25% 的錯誤能夠被更正</option>
        <option value="H">H - 最大 30% 的錯誤能夠被更正</option>
        <div id="qrcode"></div>
        <script>
            var qrcode = new QRCode("qrcode", {
                text: "",
                width: document.getElementById("width").value,
                height: document.getElementById("height").value,
                colorDark: document.getElementById("colorDark").value,
                colorLight: document.getElementById("colorLight").value,
                correctLevel: QRCode.CorrectLevel[document.getElementById("correctLevel").value]
            });

            function makeCode() {
                var elText = document.getElementById("text");

                if (!elText.value) {
                    alert("Input a text");
                    elText.focus();
                    return;
                }

                qrcode.makeCode(elText.value);
            }

            makeCode();

            document.getElementById("text").addEventListener("blur", function () {
                makeCode();
            });

            document.getElementById("text").addEventListener("keydown", function (e) {
                if (e.keyCode == 13) {
                    makeCode();
                }
            });

        </script>
</body>

</html>