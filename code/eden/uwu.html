<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9R5PZG2VQG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-9R5PZG2VQG');
    </script>
    <meta charset="UTF-8">
    <title>伊甸</title>
    <meta name="theme-color" content="##3f97fb" />
    <meta name="description" content="一隻伊甸">
    <meta name="keywords" content="伊甸, furry">
    <meta name="author" content="Edit Mr.">
    <title>伊甸</title>
    <style>
        body {
            background-color: #3f97fb;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            height: 100svh;
            overflow: hidden;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
        }

        main {
            width: 20vw;
            height: 20vw;
            position: relative;
            pointer-events: none;
        }

        main>* {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            z-index: 2;
        }

        .tail {
            width: 39.9%;
            transform-origin: top left;
            transform: rotate(0deg);
            right: 5%;
            left: auto;
            bottom: 1.2%;
            z-index: 1;
            animation: tail ease-in-out 2s infinite alternate;
        }

        @keyframes tail {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(-25deg);
            }
        }

        .eye {
            width: 7.7%;
            height: 9.95%;
            background: #3a1d1d;
            border-radius: 100% / 100%;
            z-index: 3;
            top: 57.0%;
            left: 63.5%;
            transform: translate(-50%, -50%);
            animation: blink ease-in-out 3s infinite alternate;
        }

        .eye:first-of-type {
            left: 36.75%;
        }

        #origin {
            display: none;
            z-index: 3;
        }

        @keyframes blink {
            0% {
                height: 9.95%;
                top: 57.0%;
            }

            90% {
                height: 9.95%;
                top: 57.0%;
            }

            100% {
                height: 1%;
                top: 60.0%;
            }
        }

        #tennis {
            position: absolute;
            transform: translate(-50%, -50%);
            width: 1.5rem;
            height: 1.5rem;
        }
    </style>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NHBZ3RD" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <img id="tennis" src="tennis.webp" alt="Tennis">

    <main id="mainElement"><img src="EdenDragonMao.webp" alt="" id="origin"><img src="body.webp" alt=""><img
            src="tail.webp" alt="" class="tail">
        <div class="eye"></div>
        <div class="eye"></div>
    </main>
    <canvas></canvas>
    <script>
        var mouseX, mouseY, status = 0, currentX, currentY, A, B, C;
        var canvas = document.querySelector("canvas");
        var ctx = canvas.getContext("2d");
        var tennis = document.getElementById('tennis');
        document.addEventListener('mousedown', function (e) {
            status = 1;
            mouseX = e.clientX;
            mouseY = e.clientY;
            tennis.style.transitionDuration = '0s';
        })

        document.addEventListener('mouseup', function (e) {
            status = 0;
            var distance = Math.sqrt(Math.pow((currentX - mouseX), 2) + Math.pow((currentY - mouseY), 2));
            tennis.style.transitionDuration = distance / 1000 + "s";
            tennis.style.left = mouseX + "px";
            tennis.style.top = mouseY + "px";
            mouseX = null;
            mouseY = null;
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Reset transition duration after animation ends
            tennis.addEventListener('transitionend', function () {
                tennis.style.transitionDuration = '0s';
            }, { once: true });
        });


        const eyes = document.querySelectorAll('.eye');

        document.addEventListener('mousemove', function (e) {
            if (status == 1) {
                tennis.style.left = e.clientX + "px";
                tennis.style.top = e.clientY + "px";
                if (mouseX) {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                    currentX = e.clientX;
                    currentY = e.clientY;
                    var side = 1, y = 10;
                    if (currentX > mouseX) side = -1;
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.setLineDash([]);
                    ctx.strokeStyle = "white";
                    ctx.fillStyle = "white";
                    var m = (mouseY - currentY) / (mouseX - currentX);
                    var b = currentY - m * currentX;
                    var i = currentX;
                    var to = mouseX;
                    if (currentX > mouseX) { i = mouseX; to = currentX; }

                    for (i = i; i <= to; i += 10) {
                        ctx.beginPath();
                        ctx.arc(i, m * i + b, 2, 0, 2 * Math.PI);
                        ctx.fill();
                        ctx.closePath();
                    }

                    currentY = window.innerHeight - e.clientY;
                    var mouseYR = window.innerHeight - mouseY;
                    //Jesus I love you
                    var a = Math.atan2(mouseYR - currentY, mouseX - currentX);
                    var q = 9.8 / (2 * ((mouseX - currentX) ** 2 + (mouseYR - currentY) ** 2) * Math.cos(a) ** 2);
                    A = -q;
                    B = Math.tan(a) + 2 * mouseX * q;
                    C = -mouseX * Math.tan(a) - q * mouseX ** 2 + mouseYR;
                    i = mouseX;
                    while (y > 0 && y < window.innerHeight) {
                        var y = window.innerHeight - (A * i ** 2 + B * i + C)
                        ctx.beginPath();
                        ctx.arc(i, y, 2, 0, 2 * Math.PI);
                        ctx.fill();
                        ctx.closePath();
                        i += side * 10;
                    };
                }
            }
            eyes.forEach(eye => eye.style.transform = `translate(${(e.pageX - window.innerWidth / 2) / 20 - 50}%, ${(e.pageY - window.innerHeight / 2) / 14 - 50}%)`);
        });
    </script>
</body>

</html>