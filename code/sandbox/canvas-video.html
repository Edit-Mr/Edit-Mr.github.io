<!DOCTYPE html>
<html>
  <head>
    <title>Canvas to Video Stream</title>
  </head>
  <body>
    <h1>Canvas to Video Stream</h1>
    <p>Simple no CSS Example By <a href=https://github.com/Edit-Mr>Edit Mr.</a></p>
    <canvas id="canvas" width="300" height="150"></canvas>
    <video id="video" width="300" height="150" autoplay muted></video>
    
    <script>
      const canvas = document.getElementById('canvas');
      const video = document.getElementById('video');

      // Draw something on the canvas
      const context = canvas.getContext('2d');
      context.fillStyle = 'red';
      context.fillRect(0, 0, canvas.width, canvas.height);

      // Stream the canvas to the video element
      let stream;
      if (canvas.captureStream) {
        stream = canvas.captureStream();
      } else {
        stream = captureCanvas(canvas).start();
      }
      video.srcObject = stream;

      // Play the video
      video.play();
      function enablePictureInPicture(video) {
  // Check if Picture-in-Picture is supported
  if (document.pictureInPictureEnabled) {
    // Check if the video is already in Picture-in-Picture mode
    if (document.pictureInPictureElement !== video) {
      // Enter Picture-in-Picture mode
      video.requestPictureInPicture().catch(error => {
        console.error(error);
      });
    }
  } else {
    console.error('Picture-in-Picture is not supported');
  }
}

    </script>
  </body>
</html>
